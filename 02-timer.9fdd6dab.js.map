{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAMA,MAAMC,EAAOC,SAASC,cAAc,oBAC9BC,EAAYF,SAASC,cAAc,UAEnCE,EAAWH,SAASC,cAAc,sBAClCG,EAAkBJ,SAASC,cAAc,sBACzCI,EAAmBL,SAASC,cAAc,sBAC1CK,EAAiBN,SAASC,cAAc,oBACxCM,EAAeP,SAASC,cAAc,mBAE5CE,EAASK,UAAW,EACpB,MAAMC,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAQC,GACFA,EAAc,GAAK,IAAIH,MACzBI,EAAAC,GAASC,OAAOC,QAAQ,sCACxBjB,EAASK,UAAW,GAEpBL,EAASK,UAAW,IAoB1B,SAASa,GAAgBC,KAAEA,EAAIC,MAAEA,EAAKC,QAAEA,EAAOC,QAAEA,IACzClB,EAAamB,YAAcJ,EAC3BhB,EAAcoB,YAAcH,EAC5BlB,EAAgBqB,YAAcF,EAC9BpB,EAAgBsB,YAAcD,GApBtC,EAAA5B,EAAA8B,SAAU5B,EAAMU,GAsBhBN,EAASyB,iBAAiB,SAAS,KACjC,IAAIC,EAAQC,aAAY,KACtB,IAAIC,EAAY,IAAIlB,KAAKd,EAAKiC,OAAS,IAAInB,KAE3C,GADAV,EAASK,UAAW,EAChBuB,GAAa,EAAG,CAElBV,EA3BN,SAAmBY,GAEjB,MACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAKZ,MAAO,C,KAJME,KAAKC,MAAMN,EAAKI,G,MACfC,KAAKC,MAAMN,EAAMI,EAAOD,G,QACtBE,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,G,QACjCI,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EAPnC,MAwBEM,CAAUT,IAEvBU,QAAQC,IAAIrB,GAKRU,GAAa,MACf7B,EAAUyC,MAAMC,MAAQ,eAG1B3B,EAAAC,GAASC,OAAO0B,QAAQ,sBACxB3C,EAAUyC,MAAMC,MAAQ,QACxBE,cAAcjB,KAEf","sources":["src/js/02-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\n\nimport 'flatpickr/dist/flatpickr.min.css';\n \nimport Notiflix from 'notiflix';\n \nconst text = document.querySelector('#datetime-picker');\nconst timerHtml = document.querySelector('.timer');\n\nconst btnStart = document.querySelector('button[data-start]');\nconst timerSecondsRef = document.querySelector('span[data-seconds]');\nconst timerMinutesRef  = document.querySelector('span[data-minutes]');\nconst timerHoursRef  = document.querySelector('span[data-hours]');\nconst timerDaysRef = document.querySelector('span[data-days]');\n\nbtnStart.disabled = true;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] < new Date()) {\n      Notiflix.Notify.failure('Please choose a date in the future');\n      btnStart.disabled = true;\n    } else {\n      btnStart.disabled = false;\n    }\n  },\n};\nflatpickr(text, options);\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  return { days, hours, minutes, seconds };\n}\nfunction addLeadingZero(value) {\n  return value.toString().padStart(2, '0');\n}\nfunction onChangeContent({ days, hours, minutes, seconds }) {\n        timerDaysRef.textContent = days;\n        timerHoursRef.textContent = hours;\n        timerMinutesRef.textContent = minutes;\n        timerSecondsRef.textContent = seconds;\n}\nbtnStart.addEventListener('click', () => {\n  let timer = setInterval(() => {\n    let countdown = new Date(text.value) - new Date();\n    btnStart.disabled = true;\n    if (countdown >= 0) {\n      const data = convertMs(countdown);\n      onChangeContent(data)\n      console.log(onChangeContent)\n      //  days.textContent = addLeadingZero(timeObject.days);\n      //  hours.textContent = addLeadingZero(timeObject.hours);\n      //  minutes.textContent = addLeadingZero(timeObject.minutes);\n      //  seconds.textContent = addLeadingZero(timeObject.seconds);\n      if (countdown <= 10000) {\n        timerHtml.style.color = 'tomato';\n      }\n    } else {\n      Notiflix.Notify.success('Countdown finished');\n      timerHtml.style.color = 'black';\n      clearInterval(timer);\n    }\n  }, 1000);\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["$fbklV","parcelRequire","$40d383fb392a7037$var$text","document","querySelector","$40d383fb392a7037$var$timerHtml","$40d383fb392a7037$var$btnStart","$40d383fb392a7037$var$timerSecondsRef","$40d383fb392a7037$var$timerMinutesRef","$40d383fb392a7037$var$timerHoursRef","$40d383fb392a7037$var$timerDaysRef","disabled","$40d383fb392a7037$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","$parcel$interopDefault","$eWCmQ","Notify","failure","$40d383fb392a7037$var$onChangeContent","days","hours","minutes","seconds","textContent","default","addEventListener","timer","setInterval","countdown","value","ms","minute","second","hour","day","Math","floor","$40d383fb392a7037$var$convertMs","console","log","style","color","success","clearInterval"],"version":3,"file":"02-timer.9fdd6dab.js.map"}